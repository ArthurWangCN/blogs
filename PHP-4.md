---
title: PHP第一季(四)  数学运算
date: 2017-03-30 13:54:24
tags: [PHP,李炎恢]
categories: 后台
---
>数值运算允许程序员完成加法到高级计算等各种操作

## 数值数据类型

PHP中，数字或数值数据以及数学函数的使用很简单。基本来说，要处理两种数据类型:`浮点数` 和 `整数`。浮点数和整数值的内部表示分别是C数据类型double和int。类似于C，PHP中这些数据类型遵循同样的一组规则。

PHP是一种 `松散类型` 的脚本语言，变量可以根据计算的需求改变数据类型。这就允许引擎动态地完成类型转换。所以，如果计算中包含数值和字符串，字符串会在完成计算之前转换为数值，而数值则会在与字符串连接之前转换为字符串。
```
<?php 
	$a = '5';
	$b = 7 + $a;
	echo "7 + $a = $b";			//7+5=12
?>
```
**PHP提供了大量函数来检查变量的数据类型**
+ is_numeric()
可以检查作为参数传入的值是否是数值
+ is_int()
用于检查是否为整数
+ is_float()
用于检查是否为浮点数

**类型强制转换**
在变量或值前面增加(int)、(integer)、(float)、(double)或(real)实现，也可以通过使用函数intval()或floatval()来实现

## 随机数
+ rand()
是libc(构建PHP所用编译器提供的基本库之一)中定义的随机函数的一个简单包装器
+ mt_rand()
是一个很好的替代实现，提供了很多精心设计的特性，而且mt_rand()甚至比libc中的版本还要快

两个函数都提供一些函数来得到MAX_RAND的值。
rand() 的是 getrandmax()
mt_rand() 的是 mt_getrandmax()

具体使用方法参考PHP手册

## 格式化数据
除了警告、错误等信息外，PHP的大部分输出都是利用 echo、print和 printf之类的函数生成的。这些函数将参数转换成一个字符串，并发给客户端应用程序。
+ number_format()
用途：把整数和浮点数值转换为一种可读的字符串表示
语法：(number_formatnumber,decimals,decimalpoint,separator)

|   参数   |    描述   |
|:-------:| :--------:|
|number   | 必需。要格式化的数字。如果未设置其他参数，则数字会被格式化为不带小数点且以逗号（,）作为千位分隔符。|
|decimals |可选。规定多少个小数。如果设置了该参数，则使用点号（.）作为小数点来格式化数字。|
|decimalpoint|可选。规定用作小数点的字符串。|
|seperator|可选。规定用作千位分隔符的字符串。仅使用该参数的第一个字符。比如 "xxx" 仅输出 "x"。注释：如果设置了该参数，那么所有其他参数都是必需的。|

来自：[PHP number_format() 函数](http://www.w3school.com.cn/php/func_string_number_format.asp)

```
<?php 
	$i = 123456;
	$si = number_format($i,2,".",",");
	echo $si;			//123,456.00
?>
```

## 数学函数
```
abs() 绝对值
floor() 舍去法取整 
round() 四舍五入
min() 求最小值或数组中最小值
max() 求最大值数组中最大值
ceil() 进一法取整
```

## 后记
注意多查看[PHP手册](http://php.net/manual/zh)函数库

